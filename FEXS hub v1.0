-- FEX Hub GUI Script

local player = game.Players.LocalPlayer
local mouse = player:GetMouse()
local char = player.Character or player.CharacterAdded:Wait()
local humanoid = char:WaitForChild("Humanoid")
local UIS = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

-- UI Setup
local screenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
screenGui.Name = "FEXHub"
screenGui.ResetOnSpawn = false

-- Draggable Frame
local mainFrame = Instance.new("Frame", screenGui)
mainFrame.Size = UDim2.new(0, 300, 0, 300)
mainFrame.Position = UDim2.new(0.3, 0, 0.3, 0)
mainFrame.BackgroundColor3 = Color3.new(1, 1, 1)
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.Visible = false

-- Rainbow UI
RunService.RenderStepped:Connect(function()
	local t = tick()
	local r = math.sin(t) * 0.5 + 0.5
	local g = math.sin(t + 2) * 0.5 + 0.5
	local b = math.sin(t + 4) * 0.5 + 0.5
	mainFrame.BackgroundColor3 = Color3.new(r, g, b)
end)

-- Open / Close Buttons
local openButton = Instance.new("TextButton", screenGui)
openButton.Size = UDim2.new(0, 100, 0, 40)
openButton.Position = UDim2.new(0, 10, 0, 10)
openButton.Text = "Open FEX Hub"

local closeButton = Instance.new("TextButton", mainFrame)
closeButton.Size = UDim2.new(0, 100, 0, 40)
closeButton.Position = UDim2.new(1, -110, 0, 10)
closeButton.Text = "Close"

openButton.MouseButton1Click:Connect(function()
	mainFrame.Visible = true
end)

closeButton.MouseButton1Click:Connect(function()
	mainFrame.Visible = false
end)

-- Buttons for features
local function createButton(name, posY, callback)
	local button = Instance.new("TextButton", mainFrame)
	button.Size = UDim2.new(0, 280, 0, 30)
	button.Position = UDim2.new(0, 10, 0, posY)
	button.Text = name
	button.MouseButton1Click:Connect(callback)
	return button
end

-- RGB Self
local selfRGBEnabled = false
createButton("RGB Self", 60, function()
	selfRGBEnabled = not selfRGBEnabled
end)

-- RGB Chams
local chamsEnabled = false
createButton("RGB Chams (Others)", 100, function()
	chamsEnabled = not chamsEnabled
end)

-- Jump Power Buttons
createButton("Jump Power: Normal", 140, function()
	humanoid.JumpPower = 50
end)

createButton("Jump Power: High", 180, function()
	humanoid.JumpPower = 100
end)

createButton("Jump Power: Really High", 220, function()
	humanoid.JumpPower = 200
end)

-- RGB Effects Logic
RunService.RenderStepped:Connect(function()
	local t = tick()
	local r = math.sin(t) * 0.5 + 0.5
	local g = math.sin(t + 2) * 0.5 + 0.5
	local b = math.sin(t + 4) * 0.5 + 0.5
	local rainbow = Color3.new(r, g, b)

	if selfRGBEnabled and char then
		for _, part in pairs(char:GetDescendants()) do
			if part:IsA("BasePart") then
				part.Color = rainbow
				part.Material = Enum.Material.Neon
			end
		end
	end

	if chamsEnabled then
		for _, plr in pairs(game.Players:GetPlayers()) do
			if plr ~= player and plr.Character then
				for _, part in pairs(plr.Character:GetDescendants()) do
					if part:IsA("BasePart") then
						part.Color = rainbow
						part.Material = Enum.Material.Neon
					end
				end
			end
		end
	end
end)
