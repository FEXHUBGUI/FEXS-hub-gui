 -- LocalScript inside the TextButton

local button = script.Parent
local player = game.Players.LocalPlayer
local mouse = player:GetMouse()

-- For making the button moveable
local dragSpeed = 2 -- Adjust for faster/slower movement
local dragStart, startPos

button.MouseButton1Down:Connect(function(input)
    dragStart = input.Position
    startPos = button.Position

    local function updateDrag(input)
        local delta = input.Position - dragStart
        button.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end

    local function stopDrag()
        button.MouseMove:Disconnect()
        button.MouseButton1Up:Disconnect()
    end

    button.MouseMove:Connect(updateDrag)
    button.MouseButton1Up:Connect(stopDrag)
end)

-- Invisibility function when touched
button.MouseButton1Click:Connect(function()
    if player.Character then
        local character = player.Character
        local humanoid = character:FindFirstChild("Humanoid")

        -- Ensure the player has a humanoid to work with
        if humanoid then
            -- Toggle invisibility
            local currentTransparency = character:FindFirstChild("Head"):Transparency
            local targetTransparency = currentTransparency == 0 and 1 or 0

            -- Set parts to invisible
            for _, part in ipairs(character:GetChildren()) do
                if part:IsA("BasePart") then
                    part.Transparency = targetTransparency
                end
            end
        end
    end
end)


