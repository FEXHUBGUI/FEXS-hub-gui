--! Strict
local player = game.Players.LocalPlayer
local repStorage = game:GetService("ReplicatedStorage")
local gunsFolder = repStorage:WaitForChild("Guns")

-- Create ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "GunMenuGUI"
screenGui.ResetOnSpawn = false
screenGui.Parent = player:WaitForChild("PlayerGui")

-- Create Open Button
local openButton = Instance.new("TextButton")
openButton.Name = "OpenButton"
openButton.Size = UDim2.new(0, 120, 0, 40)
openButton.Position = UDim2.new(0, 10, 0, 10)
openButton.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
openButton.TextColor3 = Color3.fromRGB(255, 255, 255)
openButton.Text = "Open Menu"
openButton.Font = Enum.Font.SourceSansBold
openButton.TextScaled = true
openButton.Parent = screenGui

-- Create Main Frame
local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0, 200, 0, 150)
mainFrame.Position = UDim2.new(0, 10, 0, 60)
mainFrame.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
mainFrame.Visible = false
mainFrame.Parent = screenGui

-- Create Title
local title = Instance.new("TextLabel")
title.Name = "Title"
title.Size = UDim2.new(1, 0, 0, 30)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundTransparency = 1
title.Text = "Gun Menu"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Font = Enum.Font.SourceSansBold
title.TextScaled = true
title.Parent = mainFrame

-- Create Give Guns Button
local giveGunsButton = Instance.new("TextButton")
giveGunsButton.Name = "GiveGunsButton"
giveGunsButton.Size = UDim2.new(0, 180, 0, 50)
giveGunsButton.Position = UDim2.new(0, 10, 0, 50)
giveGunsButton.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
giveGunsButton.TextColor3 = Color3.fromRGB(255, 255, 255)
giveGunsButton.Text = "Give Guns"
giveGunsButton.Font = Enum.Font.SourceSansBold
giveGunsButton.TextScaled = true
giveGunsButton.Parent = mainFrame

-- Open/Close toggle
openButton.MouseButton1Click:Connect(function()
    mainFrame.Visible = not mainFrame.Visible
end)

-- Give tools when button clicked
giveGunsButton.MouseButton1Click:Connect(function()
    for _, gun in pairs(gunsFolder:GetChildren()) do
        if gun:IsA("Tool") then
            local toolClone = gun:Clone()
            toolClone.Parent = player.Backpack
        end
    end
end)
